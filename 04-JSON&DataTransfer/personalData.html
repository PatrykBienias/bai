<!DOCTYPE html>
<html>

<head>
    <title>PersonalData</title>
    <meta charset="UTF-8">
</head>

<body>
    <h1>People</h1>
    <button class = "showPersonsButton" onclick="loadPerson()">Show person's</button>
    <ol type="1" id="listOfPeople"></ol>
    
    <script>
       
        function loadPerson() {
            var xhr = new XMLHttpRequest();

            xhr.onreadystatechange = function() {displayPeople(this)}

            xhr.open('GET', 'https://raw.githubusercontent.com/PatrykBienias/bai/master/04-JSON%26DataTransfer/people.json')
            xhr.send()
        }

        function displayPeople(r){
                if(r.readyState == 4 && r.status == 200){
                    var data = JSON.parse(r.responseText)
                    
                    var list = document.getElementById("listOfPeople");

                    data.forEach(ppl => {
                    var value = `${ppl.name} ${ppl.surname}, ${ppl.country}`;
                    var item = document.createElement("li");
                    item.appendChild(document.createTextNode(value));
                    list.appendChild(item);
                });
        }
    }
    </script>
</body>
</html>